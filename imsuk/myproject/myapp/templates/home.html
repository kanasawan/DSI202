{% load static %}
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>IMSUK - ‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Mitr:wght@300;400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --color-bg: #f7efdb;
      --color-accent: #dfb2a7;
      --color-success: #bade80;
      --color-warning: #efaca5;
      --color-primary: #3f8240;
    }
    body {
      font-family: 'Mitr', sans-serif;
      background: linear-gradient(to bottom, var(--color-bg), #fff);
    }
    .navbar {
      backdrop-filter: blur(10px);
      background: rgba(255, 255, 255, 0.9);
    }
    .banner {
      background: url('{% static 'images/food.jpg' %}') no-repeat center/cover;
      box-shadow: inset 0 0 0 1000px rgba(0, 0, 0, 0.4);
    }
    .category-link {
      transition: color 0.2s ease, transform 0.2s ease;
    }
    .category-link:hover {
      color: var(--color-primary);
      transform: translateX(5px);
    }
    .store-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .store-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }
    .price-filter::-webkit-slider-thumb {
      background: var(--color-primary);
      border-radius: 50%;
    }
    .btn-primary {
      background: var(--color-primary);
      transition: background 0.3s ease, transform 0.2s ease;
    }
    .btn-primary:hover {
      background: #2f6a30;
      transform: scale(1.05);
    }
    footer {
      background: linear-gradient(to top, var(--color-accent), #d9a49a);
    }
  </style>
</head>
<body class="text-gray-800">

  <!-- Navbar -->
  <header class="navbar w-full px-6 py-4 shadow-md fixed top-0 z-50 flex justify-between items-center">
    <div class="flex items-center space-x-3">
      <img src="{% static 'images/imsuk.png' %}" alt="IMSUK Logo" class="h-12 w-12 rounded-full shadow-sm">
      <h1 class="text-2xl font-bold text-[var(--color-primary)] tracking-tight">IMSUK</h1>
    </div>
    <nav class="space-x-8 text-gray-700 font-medium">
      <a href="/home/" class="hover:text-[var(--color-primary)] transition-colors duration-200">Home</a>
      <a href="/about/" class="hover:text-[var(--color-primary)] transition-colors duration-200">About</a>
    </nav>
  </header>

  <div class="h-[80px]"></div>

  <!-- Banner -->
  <div class="banner relative w-full h-[300px] mb-8">
    <div class="absolute inset-0 flex items-center justify-center">
      <h2 class="text-white text-4xl md:text-5xl font-bold text-center animate__animated animate__fadeInUp">
        FARM FOODS & ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏î‡πÉ‡∏Å‡∏•‡πâ‡∏ö‡πâ‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì
      </h2>
    </div>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 px-6 max-w-7xl mx-auto">
    <!-- Sidebar -->
    <aside class="lg:col-span-1 space-y-6">
      <div class="bg-white rounded-2xl shadow-lg p-6 animate__animated animate__fadeInLeft">
        <h3 class="font-semibold text-xl mb-4 text-[var(--color-primary)]">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h3>
        <ul class="space-y-3 text-gray-700">
          <li><a href="#" class="category-link block text-base hover:underline">‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏ó‡∏¢</a></li>
          <li><a href="#" class="category-link block text-base hover:underline">‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏µ‡∏ô</a></li>
          <li><a href="#" class="category-link block text-base hover:underline">‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ù‡∏£‡∏±‡πà‡∏á</a></li>
          <li><a href="#" class="category-link block text-base hover:underline">‡∏Ç‡∏≠‡∏á‡∏´‡∏ß‡∏≤‡∏ô</a></li>
          <li><a href="#" class="category-link block text-base hover:underline">‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°</a></li>
        </ul>
      </div>
      <div class="bg-white rounded-2xl shadow-lg p-6 animate__animated animate__fadeInLeft">
        <h3 class="font-semibold text-xl mb-4 text-[var(--color-primary)]">‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤</h3>
        <input type="range" min="0" max="500" value="250" class="w-full price-filter accent-[var(--color-primary)]">
        <div class="flex justify-between text-sm text-gray-600 mt-3">
          <span>0‡∏ø</span>
          <span>500‡∏ø</span>
        </div>
        <button class="btn-primary mt-4 w-full text-white py-2 rounded-full font-semibold">‡∏Å‡∏£‡∏≠‡∏á</button>
      </div>
    </aside>

    <!-- ‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏π -->
    <main class="lg:col-span-4">
      <section class="pb-12">
        <h2 class="text-4xl font-bold text-center mb-12 text-[var(--color-primary)] animate__animated animate__fadeInDown">
          üçΩÔ∏è ‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        </h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          {% for store in stores %}
            <a href="{% url 'store_detail' store.pk %}" class="store-card bg-white rounded-2xl shadow-lg overflow-hidden animate__animated animate__fadeInUp">
              {% if store.image %}
                <img src="{{ store.image.url }}" alt="{{ store.name }}" class="w-full h-40 object-cover">
              {% else %}
                <div class="w-full h-40 bg-gray-100 flex items-center justify-center text-gray-500">No Image</div>
              {% endif %}
              <div class="p-5">
                <h3 class="text-xl font-bold text-[var(--color-primary)] mb-2">{{ store.name }}</h3>
                <p class="text-sm text-gray-500 mb-3">{{ store.category }}</p>
                {% with store.menu_items.first as item %}
                  {% if item %}
                    <div class="text-sm text-gray-700">
                      üçõ <strong>{{ item.name }}</strong><br>
                      <span class="text-green-600 font-semibold">{{ item.sale_price }} ‡∏ø</span>
                    </div>
                  {% else %}
                    <p class="text-sm text-gray-400">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏°‡∏ô‡∏π</p>
                  {% endif %}
                {% endwith %}
              </div>
            </a>
          {% endfor %}
        </div>
      </section>
    </main>
  </div>

  <footer class="text-white text-center py-8 mt-16">
    <p class="text-sm">¬© 2025 IMSUK. All rights reserved.</p>
  </footer>

</body>
</html>