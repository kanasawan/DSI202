{% extends 'base.html' %}
{% block title %}ตะกร้าสินค้า - IMSUK{% endblock %}
{% block content %}
<div class="container mx-auto px-4 py-8 max-w-5xl">
    <h1 class="text-3xl font-bold mb-8 text-gray-800">ตะกร้าสินค้า</h1>

    {% if cart_items %}
    <div class="bg-white shadow-lg rounded-lg overflow-hidden">
        <table class="w-full text-left">
            <thead class="bg-gray-100">
                <tr class="text-gray-600">
                    <th class="py-4 px-6 font-semibold">เมนู</th>
                    <th class="py-4 px-6 font-semibold">จำนวน</th>
                    <th class="py-4 px-6 font-semibold">ราคาต่อหน่วย</th>
                    <th class="py-4 px-6 font-semibold">รวม</th>
                    <th class="py-4 px-6 font-semibold">ลบ</th>
                </tr>
            </thead>
            <tbody>
                {% for item in cart_items %}
                <tr class="border-b hover:bg-gray-50 transition-colors">
                    <td class="py-4 px-6">{{ item.menu_item.name }}</td>
                    <td class="py-4 px-6 flex items-center gap-3">
                        <a href="{% url 'decrease_quantity' item.id %}" class="w-8 h-8 flex items-center justify-center bg-gray-200 rounded-full hover:bg-gray-300 transition-colors text-gray-700">−</a>
                        <span class="font-medium">{{ item.quantity }}</span>
                        <a href="{% url 'increase_quantity' item.id %}" class="w-8 h-8 flex items-center justify-center bg-gray-200 rounded-full hover:bg-gray-300 transition-colors text-gray-700">+</a>
                    </td>
                    <td class="py-4 px-6">฿{{ item.menu_item.sale_price }}</td>
                    <td class="py-4 px-6 font-medium">฿{{ item.subtotal }}</td>
                    <td class="py-4 px-6">
                        <a href="{% url 'remove_item' item.id %}" class="text-red-500 hover:text-red-700 transition-colors font-medium">ลบ</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="mt-8 flex justify-end items-center gap-6">
        <div class="text-xl font-bold text-gray-800">
            รวมทั้งหมด: <span class="text-green-600">฿{{ total }}</span>
        </div>
        <a href="{% url 'checkout' %}" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-medium">ไปชำระเงิน</a>
    </div>
    {% else %}
    <div class="bg-white shadow-lg rounded-lg p-8 text-center">
        <p class="text-gray-600 text-lg">ยังไม่มีสินค้าในตะกร้า</p>
        <a href="{% url 'menu' %}" class="mt-4 inline-block bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors">เลือกซื้อสินค้า</a>
    </div>
    {% endif %}
</div>
{% endblock %}