{% extends 'base.html' %}
{% block title %}‡∏£‡πâ‡∏≤‡∏ô‡πÇ‡∏õ‡∏£‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto px-6 py-12">
  <h1 class="text-4xl font-extrabold text-custom-darkgreen text-center mb-12">‚ù§Ô∏è ‡∏£‡πâ‡∏≤‡∏ô‡πÇ‡∏õ‡∏£‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h1>

  {% for fav in favorites %}
    {% with first_menu=fav.restaurant.menu_items.first %}
      <div class="bg-white bg-opacity-90 backdrop-blur-md rounded-3xl shadow-xl hover:shadow-2xl transition duration-300 mb-8 p-6">
        <div class="flex flex-col md:flex-row gap-6 items-start">
          <!-- ‡∏£‡∏π‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢ -->
          {% if first_menu and first_menu.image %}
            <img src="{{ first_menu.image.url }}" alt="{{ first_menu.name }}"
                 class="w-full md:w-64 h-48 object-cover rounded-xl shadow-md">
          {% else %}
            <div class="w-full md:w-64 h-48 bg-gray-200 flex items-center justify-center text-gray-400 rounded-xl shadow-inner">
              ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
            </div>
          {% endif %}

          <!-- ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤ -->
          <div class="flex-1 space-y-2">
            <h2 class="text-2xl font-bold text-custom-darkgreen">{{ fav.restaurant.name }}</h2>
            <p class="text-sm text-gray-500">{{ fav.restaurant.category.name }}</p>
            <p class="text-base text-gray-600">{{ fav.restaurant.address }}</p>

            <form action="{% url 'remove_favorite' fav.restaurant.id %}" method="post" class="mt-4">
              {% csrf_token %}
              <button type="submit"
                      class="bg-red-500 text-white px-5 py-2 rounded-lg hover:bg-red-600 transition font-medium text-sm inline-flex items-center gap-2">
                üóë ‡∏•‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡πÇ‡∏õ‡∏£‡∏î
              </button>
            </form>
          </div>
        </div>
      </div>
    {% endwith %}
  {% empty %}
    <p class="text-xl text-gray-500 text-center py-10">‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡πâ‡∏≤‡∏ô‡πÇ‡∏õ‡∏£‡∏î‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ</p>
  {% endfor %}
</div>
{% endblock %}
